(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();let c=[{title:"Initial Research"}],s=null;function m(t){s=t}function l(){const t=document.getElementById("tasks-container");t&&(t.innerHTML="",c.forEach((n,r)=>{const a=document.createElement("div");a.className="flex gap-2 items-center bg-slate-50 p-2 rounded-lg border border-slate-100 group",a.innerHTML=`
            <input type="text" name="project.milestones[${r}].title" value="${n.title}"
                   placeholder="Milestone name" class="flex-1 bg-transparent border-none text-sm p-1 focus:ring-0 font-medium">
            <button type="button" onclick="removeTask(${r})" class="text-slate-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100">&times;</button>
        `,t.appendChild(a)}))}function f(){c.push({title:""}),l()}function p(t){c.splice(t,1),l()}async function y(){if(!s)return;const t={"account.email":{required:!0,email:!0},"account.age":{required:!0,min:18}},n=await s.validate("val-form",t);["email","age"].forEach(r=>{const a=document.querySelector(`[name="account.${r}"]`),e=document.getElementById(`err-${r}`);!a||!e||(a.classList.remove("input-error"),e.classList.add("hidden"))}),n.isValid?d("All fields valid!"):n.errors.forEach(r=>{const a=r.path.split(".")[1],e=document.querySelector(`[name="${r.path}"]`),o=document.getElementById(`err-${a}`);e&&e.classList.add("input-error"),o&&(o.textContent=r.msg,o.classList.remove("hidden"))})}async function g(){if(!s)return;const t=await s.getAllData();alert("Current DB State logged to console. Check browser DevTools!"),console.log("FormPath Full Export:",t)}async function h(){s&&(await s.clearData(),d("Database Cleared"),location.reload())}function d(t){const n=document.getElementById("toast");n&&(n.textContent=t,n.classList.remove("opacity-0","translate-y-4"),n.classList.add("opacity-100","-translate-y-4"),setTimeout(()=>{n.classList.add("opacity-0","translate-y-4"),n.classList.remove("opacity-100","-translate-y-4")},2500))}const w=window.FormPath,u=new w({onChange:t=>{const n=document.getElementById("json-simple");n&&(n.textContent=JSON.stringify(t["simple-profile"]||{},null,4));const r=document.getElementById("json-multipane");if(r){const e={pane_a:t["pane-a"],pane_b:t["pane-b"]};r.textContent=JSON.stringify(e,null,4)}const a=document.getElementById("json-dynamic");a&&(a.textContent=JSON.stringify(t["dynamic-tasks"]||{},null,4))}});m(u);window.ff=u;window.addTask=f;window.removeTask=p;window.checkValidation=y;window.logAllData=g;window.clearAllData=h;window.addEventListener("DOMContentLoaded",()=>{l()});
